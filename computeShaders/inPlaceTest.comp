#version 450

layout (local_size_x = 16, local_size_y = 16) in;
layout(binding = 0, rgba8) uniform image2D image;

void main(){
	ivec2 pixelCoords = ivec2(gl_GlobalInvocationID.xy);

	vec4 pixel = imageLoad(image, pixelCoords);
	vec3 normPix = pixel.xyz;
	normPix = normalize(normPix*2-1)*0.5 + 0.5;

	pixel = vec4(normPix, 1.0);

	imageStore(image, pixelCoords, pixel);
}